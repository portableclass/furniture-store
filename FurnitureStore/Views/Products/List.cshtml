@model ProductListViewModel

@{
	ViewData["Title"] = "Products";
}

<div class="container d-flex align-center mb-3 justify-content-between">
	<div class="d-flex flex-wrap">
		<h1>All products</h1>
		<a class="d-flex btn btn-warning ms-4 align-items-center" asp-conroller="Products" asp-action="Details">Add product</a>
	</div>
	<div class="d-flex flex-wrap">
		<form class="d-flex ms-4 w-auto" method="post" asp-controller="Products" asp-action="List">
			<select class="form-select w-auto" aria-label="Default select example" asp-for="SortingField">
				<option selected>Sorting field</option>
				<option value="1">Name</option>
				<option value="2">Price</option>
				<option value="3">Description</option>
				<option value="4">Storage</option>
			</select>
			<select class="form-select w-auto ms-4" aria-label="Default select example" asp-for="SortingTrend">
				<option selected>Order by...</option>
				<option value="1">ASC</option>
				<option value="2">DESC</option>
			</select>
			<input type="submit" class="d-flex btn btn-warning ms-4 align-items-center" value="Go sort"/>
			@* <a class="d-flex btn btn-warning ms-4 align-items-center" type="submit" asp-controller="Products" asp-action="List">Go sort</a> *@
		</form>
	</div>
</div>
@{
	<div class="container">
		<div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
			@foreach (var product in Model.Products)
			{
				<div class="col">
					<div class="card shadow-sm">
						@* @await Html.PartialAsync("Image", ) *@
						@* @product. *@
						<img
							src="@product.Image.Name"
							class="bd-placeholder-img card-img-top shadow-sm"
							width="100%"
							height="225"
							aria-label="Placeholder: Thumbnail"
							preserveAspectRatio="xMidYMid slice"
							focusable="false"
							alt="image"/>
						@* <img src="" class="bd-placeholder-img card-img-top shadow-sm" width="100%" height="225" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false" alt="image"/> *@

						<div class="card-body">
							<p class="fs-2">@product.Name</p>
							<p class="card-text">Storage: @product.Storage.Name</p>
							<p class="card-text">@product.Description</p>
							<div class="d-flex justify-content-between align-items-center">
								<div class="btn-group">
									<a type="button" class="btn btn-sm btn-outline-primary" asp-controller="Products" asp-action="Details" asp-route-id="@product.Id">Edit</a>
									<a type="button" class="btn btn-sm btn-outline-danger" asp-controller="Products" asp-action="Delete" asp-route-id="@product.Id">Delete</a>
								</div>
								<small class="text-muted fs-5">@product.Price.ToString("c")</small>
							</div>
						</div>
					</div>
				</div>
			}
		</div>
	</div>
}
